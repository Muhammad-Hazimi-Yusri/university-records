Version 4
SHEET 1 880 680
WIRE -43856 -32992 -43952 -32992
WIRE -43952 -32928 -43952 -32992
WIRE -41040 -32912 -41040 -32944
WIRE -41808 -32896 -41808 -32928
WIRE -41808 -32800 -41808 -32816
WIRE -41664 -32800 -41808 -32800
WIRE -41184 -32784 -41312 -32784
WIRE -41040 -32784 -41040 -32832
WIRE -41040 -32784 -41088 -32784
WIRE -40928 -32784 -41040 -32784
WIRE -43904 -32768 -43952 -32768
WIRE -43856 -32768 -43904 -32768
WIRE -43952 -32720 -43952 -32768
WIRE -41856 -32720 -41920 -32720
WIRE -42960 -32672 -43008 -32672
WIRE -42832 -32672 -42880 -32672
WIRE -41312 -32672 -41312 -32784
WIRE -41920 -32656 -41920 -32720
WIRE -41808 -32656 -41808 -32704
WIRE -43904 -32576 -43952 -32576
WIRE -43856 -32576 -43904 -32576
WIRE -43952 -32512 -43952 -32576
WIRE -43008 -32512 -43008 -32672
WIRE -42944 -32512 -43008 -32512
WIRE -42832 -32496 -42832 -32672
WIRE -42832 -32496 -42880 -32496
WIRE -42784 -32496 -42832 -32496
WIRE -43264 -32480 -43376 -32480
WIRE -43088 -32480 -43184 -32480
WIRE -42944 -32480 -43088 -32480
WIRE -43008 -32464 -43008 -32512
WIRE -43088 -32432 -43088 -32480
WIRE -43376 -32400 -43376 -32480
WIRE -43008 -32368 -43008 -32384
WIRE -44192 -32176 -44256 -32176
WIRE -44016 -32176 -44112 -32176
WIRE -43920 -32176 -44016 -32176
WIRE -43728 -32176 -43840 -32176
WIRE -40336 -32144 -40336 -32176
WIRE -41312 -32128 -41312 -32144
WIRE -41120 -32128 -41120 -32144
WIRE -44016 -32096 -44016 -32176
WIRE -43936 -32096 -44016 -32096
WIRE -43808 -32096 -43872 -32096
WIRE -42992 -32096 -43040 -32096
WIRE -42832 -32096 -42912 -32096
WIRE -42736 -32096 -42832 -32096
WIRE -42576 -32096 -42656 -32096
WIRE -42384 -32080 -42432 -32080
WIRE -42256 -32080 -42304 -32080
WIRE -40336 -32048 -40336 -32064
WIRE -40208 -32048 -40336 -32048
WIRE -41312 -32032 -41312 -32048
WIRE -41200 -32032 -41312 -32032
WIRE -41120 -32032 -41120 -32048
WIRE -41008 -32032 -41120 -32032
WIRE -40336 -32032 -40336 -32048
WIRE -41312 -32016 -41312 -32032
WIRE -41120 -32016 -41120 -32032
WIRE -44016 -32000 -44016 -32096
WIRE -43904 -32000 -44016 -32000
WIRE -43808 -31984 -43808 -32096
WIRE -43808 -31984 -43840 -31984
WIRE -43728 -31984 -43728 -32176
WIRE -43728 -31984 -43744 -31984
WIRE -43664 -31984 -43728 -31984
WIRE -43616 -31984 -43664 -31984
WIRE -43904 -31968 -44016 -31968
WIRE -42832 -31968 -42832 -32096
WIRE -42752 -31968 -42832 -31968
WIRE -41008 -31968 -41008 -32032
WIRE -40928 -31968 -41008 -31968
WIRE -44256 -31952 -44256 -32176
WIRE -42576 -31952 -42576 -32096
WIRE -42576 -31952 -42688 -31952
WIRE -42544 -31952 -42576 -31952
WIRE -42432 -31952 -42432 -32080
WIRE -42432 -31952 -42464 -31952
WIRE -42384 -31952 -42432 -31952
WIRE -40384 -31952 -40528 -31952
WIRE -44016 -31936 -44016 -31968
WIRE -42752 -31936 -42832 -31936
WIRE -42256 -31936 -42256 -32080
WIRE -42256 -31936 -42320 -31936
WIRE -42192 -31936 -42256 -31936
WIRE -41360 -31936 -41456 -31936
WIRE -41200 -31936 -41200 -32032
WIRE -41168 -31936 -41200 -31936
WIRE -40208 -31936 -40208 -32048
WIRE -40096 -31936 -40208 -31936
WIRE -42384 -31920 -42576 -31920
WIRE -41456 -31904 -41456 -31936
WIRE -40528 -31904 -40528 -31952
WIRE -43040 -31856 -43040 -32096
WIRE -42832 -31776 -42832 -31936
WIRE -42576 -31776 -42576 -31920
WIRE -44592 -31520 -44608 -31520
WIRE -44320 -31520 -44592 -31520
WIRE -44320 -31424 -44320 -31520
WIRE -44272 -31424 -44320 -31424
WIRE -44112 -31424 -44192 -31424
WIRE -44016 -31424 -44112 -31424
WIRE -43856 -31424 -43936 -31424
WIRE -43664 -31408 -43712 -31408
WIRE -43536 -31408 -43584 -31408
WIRE -44608 -31376 -44608 -31520
WIRE -44112 -31296 -44112 -31424
WIRE -44032 -31296 -44112 -31296
WIRE -43856 -31280 -43856 -31424
WIRE -43856 -31280 -43968 -31280
WIRE -43824 -31280 -43856 -31280
WIRE -43712 -31280 -43712 -31408
WIRE -43712 -31280 -43744 -31280
WIRE -43664 -31280 -43712 -31280
WIRE -44032 -31264 -44112 -31264
WIRE -43536 -31264 -43536 -31408
WIRE -43536 -31264 -43600 -31264
WIRE -43504 -31264 -43536 -31264
WIRE -43472 -31264 -43504 -31264
WIRE -43664 -31248 -43856 -31248
WIRE -44112 -31104 -44112 -31264
WIRE -43856 -31104 -43856 -31248
WIRE -44320 -30944 -44320 -31424
WIRE -44272 -30944 -44320 -30944
WIRE -44112 -30944 -44192 -30944
WIRE -44016 -30944 -44112 -30944
WIRE -43856 -30944 -43936 -30944
WIRE -43664 -30928 -43712 -30928
WIRE -43536 -30928 -43584 -30928
WIRE -44112 -30816 -44112 -30944
WIRE -44032 -30816 -44112 -30816
WIRE -43856 -30800 -43856 -30944
WIRE -43856 -30800 -43968 -30800
WIRE -43824 -30800 -43856 -30800
WIRE -43712 -30800 -43712 -30928
WIRE -43712 -30800 -43744 -30800
WIRE -43664 -30800 -43712 -30800
WIRE -44032 -30784 -44112 -30784
WIRE -43536 -30784 -43536 -30928
WIRE -43536 -30784 -43600 -30784
WIRE -43472 -30784 -43536 -30784
WIRE -43664 -30768 -43856 -30768
WIRE -44112 -30624 -44112 -30784
WIRE -43856 -30624 -43856 -30768
WIRE -44320 -30464 -44320 -30944
WIRE -44272 -30464 -44320 -30464
WIRE -44112 -30464 -44192 -30464
WIRE -44016 -30464 -44112 -30464
WIRE -43856 -30464 -43936 -30464
WIRE -43664 -30448 -43712 -30448
WIRE -43536 -30448 -43584 -30448
WIRE -44112 -30336 -44112 -30464
WIRE -44032 -30336 -44112 -30336
WIRE -43856 -30320 -43856 -30464
WIRE -43856 -30320 -43968 -30320
WIRE -43824 -30320 -43856 -30320
WIRE -43712 -30320 -43712 -30448
WIRE -43712 -30320 -43744 -30320
WIRE -43664 -30320 -43712 -30320
WIRE -44032 -30304 -44112 -30304
WIRE -43536 -30304 -43536 -30448
WIRE -43536 -30304 -43600 -30304
WIRE -43472 -30304 -43536 -30304
WIRE -43664 -30288 -43856 -30288
WIRE -44112 -30144 -44112 -30304
WIRE -43856 -30144 -43856 -30288
WIRE 32 0 32 -16
WIRE 64 0 32 0
WIRE 64 16 64 0
FLAG -43376 -32320 0
FLAG -43088 -32368 0
FLAG -43952 -32640 0
FLAG -43952 -32432 0
FLAG -43904 -32768 +10v
FLAG -43904 -32576 +5v
FLAG -43008 -32368 0
FLAG -42912 -32528 +10v
FLAG -42912 -32464 0
FLAG -42784 -32496 #1_1
FLAG -44256 -31872 0
FLAG -44016 -31936 0
FLAG -43872 -32016 +5v
FLAG -43872 -31952 0
FLAG -43664 -31904 0
FLAG -43616 -31984 #2_1/#2_2_input
FLAG -43040 -31776 0
FLAG -42832 -31776 0
FLAG -42720 -31984 +5v
FLAG -42720 -31920 0
FLAG -42352 -31968 +5v
FLAG -42352 -31904 0
FLAG -42576 -31776 0
FLAG -42192 -31936 #2_3/#2_4_input
FLAG -41920 -32576 0
FLAG -41808 -32928 +5v
FLAG -41808 -32656 0
FLAG -41312 -32592 0
FLAG -43952 -32848 0
FLAG -43856 -32992 +3.3v
FLAG -41040 -32944 +5v
FLAG -41168 -32832 +3.3v
FLAG -41456 -31824 0
FLAG -41312 -32144 +3.3v
FLAG -41120 -32144 +3.3v
FLAG -41312 -31920 0
FLAG -41120 -31920 0
FLAG -40528 -31824 0
FLAG -40336 -31936 0
FLAG -40336 -32176 +3.3v
FLAG -44608 -31296 0
FLAG -44112 -31104 0
FLAG -44000 -31248 0
FLAG -43632 -31232 0
FLAG -43856 -31104 0
FLAG -43472 -31264 5V_output
FLAG -44112 -30624 0
FLAG -44000 -30768 0
FLAG -43632 -30752 0
FLAG -43856 -30624 0
FLAG -43472 -30784 3.3V_output
FLAG -44112 -30144 0
FLAG -44000 -30288 0
FLAG -43632 -30272 0
FLAG -43856 -30144 0
FLAG -43472 -30304 .potential.10v_output
FLAG -43504 -31264 +5v__
FLAG -44592 -31520 +10v__
FLAG -43632 -30336 +10v__
FLAG -44000 -30352 +10v__
FLAG -44000 -31312 +10v__
FLAG -43632 -31296 +10v__
FLAG -44000 -30832 +10v__
FLAG -43632 -30816 +10v__
SYMBOL voltage -43376 -32416 R0
WINDOW 3 492 96 Right 2
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR Value PULSE(0 3.3 0 10n 10n 0.5u 1u 2000)
SYMATTR InstName Fast_PWM
SYMBOL res -43168 -32496 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R1
SYMATTR Value 3k
SYMBOL cap -43104 -32432 R0
SYMATTR InstName C1
SYMATTR Value 10n
SYMBOL voltage -43952 -32736 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName V1
SYMATTR Value 10V
SYMBOL voltage -43952 -32528 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName V3
SYMATTR Value 5V
SYMBOL res -43024 -32480 R0
SYMATTR InstName R3
SYMATTR Value 200
SYMBOL OpAmps\\UniversalOpAmp -42912 -32496 R0
SYMATTR InstName U1
SYMBOL res -42864 -32688 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 47 58 VTop 2
SYMATTR InstName R2
SYMATTR Value 400
SYMBOL voltage -44256 -31968 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName #2_1/#2_2
SYMATTR Value SINE(0 4 50 0 0 0 100)
SYMBOL res -44096 -32192 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R4
SYMATTR Value 200
SYMBOL res -43824 -32192 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R5
SYMATTR Value 100
SYMBOL OpAmps\\UniversalOpAmp -43872 -31984 R0
SYMATTR InstName U2
SYMBOL diode -43808 -31968 R270
WINDOW 0 32 32 VTop 2
WINDOW 3 0 32 VBottom 2
SYMATTR InstName D1
SYMATTR Value 1N4148
SYMBOL diode -43936 -32080 R270
WINDOW 0 32 32 VTop 2
WINDOW 3 0 32 VBottom 2
SYMATTR InstName D2
SYMATTR Value 1N4148
SYMBOL res -43680 -32000 R0
SYMATTR InstName R6
SYMATTR Value 1k
SYMBOL voltage -43040 -31872 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName #2_3/#2_4
SYMATTR Value 5
SYMBOL OpAmps\\UniversalOpAmp -42720 -31952 R0
SYMATTR InstName U3
SYMBOL res -42896 -32112 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R7
SYMATTR Value 150
SYMBOL res -42640 -32112 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R8
SYMATTR Value 100
SYMBOL OpAmps\\UniversalOpAmp -42352 -31936 R0
SYMATTR InstName U4
SYMBOL res -42448 -31968 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R9
SYMATTR Value 100
SYMBOL res -42288 -32096 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R10
SYMATTR Value 100
SYMBOL voltage -41920 -32672 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName V2
SYMATTR Value PULSE(0 3.3 0 10n 10n 500m 1000m 5)
SYMBOL res -41824 -32912 R0
SYMATTR InstName R11
SYMATTR Value 100k
SYMBOL voltage -41312 -32688 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName V4
SYMATTR Value PULSE(0 3.3 0 10n 10n 500m 1000m 5)
SYMBOL voltage -43952 -32944 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName V5
SYMATTR Value 3.3V
SYMBOL nmos -41856 -32800 R0
SYMATTR InstName M1
SYMBOL nmos -41088 -32832 R90
SYMATTR InstName M2
SYMBOL res -41056 -32928 R0
SYMATTR InstName R12
SYMATTR Value 100k
SYMBOL voltage -41456 -31920 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName V6
SYMATTR Value PULSE(0 5 0 10n 10n 500m 1 5)
SYMBOL nmos -41360 -32016 R0
SYMATTR InstName M3
SYMBOL nmos -41168 -32016 R0
SYMATTR InstName M4
SYMBOL res -41328 -32144 R0
SYMATTR InstName R13
SYMATTR Value 100k
SYMBOL res -41136 -32144 R0
SYMATTR InstName R14
SYMATTR Value 100k
SYMBOL voltage -40528 -31920 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName V7
SYMATTR Value PULSE(0 5 0 10n 10n 500m 1 5)
SYMBOL nmos -40384 -32032 R0
SYMATTR InstName M5
SYMBOL res -40352 -32160 R0
SYMATTR InstName R15
SYMATTR Value 100k
SYMBOL voltage -44608 -31392 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName V8
SYMATTR Value 10.8V
SYMBOL OpAmps\\UniversalOpAmp -44000 -31280 R0
SYMATTR InstName U5
SYMBOL res -44176 -31440 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R16
SYMATTR Value 200
SYMBOL res -43920 -31440 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R17
SYMATTR Value 100
SYMBOL OpAmps\\UniversalOpAmp -43632 -31264 R0
SYMATTR InstName U6
SYMBOL res -43728 -31296 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R18
SYMATTR Value 100
SYMBOL res -43568 -31424 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R19
SYMATTR Value 100
SYMBOL OpAmps\\UniversalOpAmp -44000 -30800 R0
SYMATTR InstName U7
SYMBOL res -44176 -30960 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R20
SYMATTR Value 330
SYMBOL res -43920 -30960 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R21
SYMATTR Value 100
SYMBOL OpAmps\\UniversalOpAmp -43632 -30784 R0
SYMATTR InstName U8
SYMBOL res -43728 -30816 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R22
SYMATTR Value 100
SYMBOL res -43568 -30944 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R23
SYMATTR Value 100
SYMBOL OpAmps\\UniversalOpAmp -44000 -30320 R0
SYMATTR InstName U9
SYMBOL res -44176 -30480 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R24
SYMATTR Value 110
SYMBOL res -43920 -30480 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R25
SYMATTR Value 100
SYMBOL OpAmps\\UniversalOpAmp -43632 -30304 R0
SYMATTR InstName U10
SYMBOL res -43728 -30336 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R26
SYMATTR Value 100
SYMBOL res -43568 -30464 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R27
SYMATTR Value 100
TEXT -44984 -30096 Left 2 !.tran 0 10 0 0.1
TEXT -41728 -32672 Left 2 ;3.3v to 5v Design 1
TEXT -41064 -32680 Left 2 ;3.3v to 5v Design 2
TEXT -41768 -32496 Left 2 ;Both designs require a large resistor, Design 1 is inverting, Design 2 is not.
TEXT -41544 -31736 Left 2 ;5v to 3.3v - High component count but non inverting
TEXT -40664 -31728 Left 2 ;5v to 3.3v - Only one mosfet but inverting (I think we should use this)
